# Математичні Парадокси

Веб-додаток для відображення та управління математичними парадоксами. Побудовано з використанням чистого PHP, MongoDB та Docker.

## Особливості

### Публічна частина
- Головна сторінка зі списком 13 математичних парадоксів
- Детальна сторінка для кожного парадоксу
- Адаптивний дизайн для різних пристроїв

### Адміністративна панель
- Автентифікація адміністратора
- Управління парадоксами (CRUD операції)
- Управління користувачами (CRUD операції)
- Інтуїтивний інтерфейс

## Технічний стек

- **Backend**: PHP 8.2
- **База даних**: MongoDB 4.4
- **Веб-сервер**: Apache
- **Архітектура**: MVC патерн
- **Контейнеризація**: Docker + Docker Compose

## Структура проекту

```
/
├── docker-compose.yml          # Docker Compose конфігурація
├── Dockerfile                  # Docker образ для PHP + Apache
├── seed.php                    # Скрипт ініціалізації бази даних
├── public/
│   ├── index.php              # Front controller (роутер)
│   ├── css/
│   │   └── style.css          # Стилі
│   └── js/
├── app/
│   ├── controllers/           # Контролери
│   │   ├── HomeController.php
│   │   ├── ParadoxController.php
│   │   ├── AdminController.php
│   │   ├── AdminParadoxController.php
│   │   └── AdminUserController.php
│   ├── models/                # Моделі
│   │   ├── Paradox.php
│   │   └── User.php
│   ├── views/                 # Види
│   │   ├── home/
│   │   ├── paradox/
│   │   └── admin/
│   └── config/                # Конфігурація
│       └── Database.php
└── README.md
```

## Швидкий старт

### Вимоги
- Docker
- Docker Compose

### Встановлення та запуск

1. Клонуйте репозиторій:
```bash
git clone https://github.com/plamagnum/math-paradoxes.git
cd math-paradoxes
```

2. Запустіть Docker контейнери:
```bash
docker-compose up -d
```

3. Зачекайте кілька секунд, поки контейнери запустяться, потім ініціалізуйте базу даних:
```bash
docker-compose exec web php seed.php
```

4. Відкрийте браузер та перейдіть на:
   - Публічна частина: http://localhost:8080
   - Адміністративна панель: http://localhost:8080/admin

### Облікові дані за замовчуванням

- **Логін**: admin
- **Пароль**: admin123

## Використання

### Публічна частина

1. Відкрийте http://localhost:8080
2. Перегляньте список математичних парадоксів
3. Натисніть на парадокс для перегляду детальної інформації

### Адміністративна панель

1. Перейдіть на http://localhost:8080/admin
2. Увійдіть використовуючи облікові дані (admin/admin123)
3. Управляйте парадоксами:
   - Додавайте нові парадокси
   - Редагуйте існуючі
   - Видаляйте парадокси
   - Змінюйте порядок відображення
4. Управляйте користувачами:
   - Додавайте нових адміністраторів
   - Редагуйте користувачів
   - Видаляйте користувачів

## База даних

### Колекція `paradoxes`
- `_id`: ObjectId (MongoDB)
- `title`: Назва парадоксу
- `description`: Короткий опис
- `content`: Детальний зміст
- `order`: Порядок відображення
- `created_at`: Дата створення

### Колекція `users`
- `_id`: ObjectId (MongoDB)
- `username`: Логін користувача
- `password`: Хешований пароль (bcrypt)
- `role`: Роль користувача (admin)
- `created_at`: Дата створення

## Безпека

Додаток включає наступні заходи безпеки:

1. **Захист від XSS**: Всі дані користувача екрануються за допомогою `htmlspecialchars()`
2. **Захист від SQL Injection**: Використовується MongoDB з підготовленими запитами
3. **Хешування паролів**: Паролі зберігаються з використанням `password_hash()` (bcrypt)
4. **Валідація форм**: Перевірка всіх вхідних даних на стороні сервера
5. **Автентифікація сесій**: Захищені сесії для адміністративної панелі

## Порти

- **8080**: Веб-сервер (Apache)
- **27017**: MongoDB

## Зупинка та видалення

Зупинити контейнери:
```bash
docker-compose down
```

Зупинити та видалити всі дані (включаючи базу даних):
```bash
docker-compose down -v
```

## Розробка

### Перегляд логів

```bash
# Всі логи
docker-compose logs -f

# Логи веб-сервера
docker-compose logs -f web

# Логи MongoDB
docker-compose logs -f mongodb
```

### Доступ до контейнерів

```bash
# Веб-контейнер
docker-compose exec web bash

# MongoDB
docker-compose exec mongodb mongo
```

### Повторна ініціалізація бази даних

```bash
# Видалити дані
docker-compose exec mongodb mongo math_paradoxes --eval "db.dropDatabase()"

# Знову запустити seed скрипт
docker-compose exec web php seed.php
```

## Підтримувані парадокси

Додаток включає 13 відомих математичних парадоксів:

1. Парадокс Зенона (Ахілл і черепаха)
2. Парадокс Банаха-Тарського
3. Парадокс Монті Холла
4. Парадокс днів народження
5. Парадокс готелю Гільберта
6. Парадокс Рассела
7. Парадокс Симпсона
8. Парадокс стріли
9. Парадокс цікавих чисел
10. Парадокс лжеця
11. Парадокс Греллінга-Нельсона
12. Парадокс Скулема
13. Парадокс Бесселя

## Ліцензія

MIT

## Автор

plamagnum
