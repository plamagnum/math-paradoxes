<?php

require_once __DIR__ . '/app/config/Database.php';

// Initialize database connection
$db = Database::getInstance();

echo "Seeding database with initial data...\n\n";

// Create admin user
echo "Creating admin user...\n";
$bulk = new MongoDB\Driver\BulkWrite;
$bulk->insert([
    'username' => 'admin',
    'password' => password_hash('admin123', PASSWORD_BCRYPT),
    'role' => 'admin',
    'created_at' => new MongoDB\BSON\UTCDateTime()
]);

try {
    $result = $db->executeBulkWrite('users', $bulk);
    echo "Admin user created: username='admin', password='admin123'\n\n";
} catch (Exception $e) {
    echo "Admin user may already exist or error: " . $e->getMessage() . "\n\n";
}

// Create 13 mathematical paradoxes
echo "Creating 13 mathematical paradoxes...\n";

$paradoxes = [
    [
        'title' => 'Парадокс Зенона (Ахілл і черепаха)',
        'description' => 'Ахілл ніколи не зможе наздогнати черепаху, якщо вона має початкову перевагу.',
        'content' => 'Парадокс Зенона стверджує, що найшвидший бігун (Ахілл) ніколи не зможе наздогнати найповільнішого (черепаху), якщо черепаха має початкову перевагу. Коли Ахілл досягне місця, де була черепаха, вона вже трохи просунеться вперед. Коли він досягне цього нового місця, черепаха знову просунеться. Це продовжується до нескінченності, створюючи парадокс.

Цей парадокс демонструє складності в розумінні нескінченності та руху. Він був розв\'язаний за допомогою математичного аналізу та концепції збіжних нескінченних рядів, які показують, що сума нескінченної кількості зменшуваних величин може бути скінченною.',
        'order' => 1
    ],
    [
        'title' => 'Парадокс Банаха-Тарського',
        'description' => 'Кулю можна розділити на скінченну кількість частин і зібрати дві кулі того ж розміру.',
        'content' => 'Парадокс Банаха-Тарського стверджує, що можна взяти тривимірну кулю, розділити її на скінченну кількість частин і потім зібрати ці частини в дві кулі, кожна з яких ідентична оригінальній кулі за розміром.

Це здається неможливим і порушує наше інтуїтивне розуміння об\'єму та збереження маси. Парадокс спирається на аксіому вибору в теорії множин та використовує незмірні множини. В реальному фізичному світі це неможливо, оскільки матерія складається з атомів, але математично це можливо.',
        'order' => 2
    ],
    [
        'title' => 'Парадокс Монті Холла',
        'description' => 'Зміна вибору дверей збільшує шанси виграти автомобіль у грі.',
        'content' => 'У грі є три двері: за однією автомобіль, за двома іншими кози. Ви обираєте двері, потім ведучий відкриває одну з двох інших дверей, за якою коза. Він запитує, чи хочете ви змінити свій вибір.

Інтуїтивно здається, що шанси 50/50, але насправді, якщо ви зміните вибір, ваші шанси виграти становлять 2/3, а якщо залишитесь при своєму виборі - лише 1/3. Це пояснюється тим, що ведучий надає додаткову інформацію, відкриваючи двері з козою.',
        'order' => 3
    ],
    [
        'title' => 'Парадокс днів народження',
        'description' => 'У групі з 23 людей ймовірність збігу днів народження перевищує 50%.',
        'content' => 'Парадокс днів народження стверджує, що в групі лише з 23 випадково обраних людей імовірність того, що принаймні дві з них мають однаковий день народження, перевищує 50%. При 70 людях ця ймовірність досягає 99,9%.

Це здається неймовірним, оскільки в році 365 днів, але пояснюється тим, що ми розглядаємо всі можливі пари людей у групі. Кількість можливих пар зростає квадратично відносно розміру групи, що швидко збільшує ймовірність збігу.',
        'order' => 4
    ],
    [
        'title' => 'Парадокс готелю Гільберта',
        'description' => 'Нескінченний готель, повністю заповнений, може прийняти нескінченну кількість нових гостей.',
        'content' => 'Готель Гільберта має нескінченну кількість номерів, всі з яких зайняті. Приїжджає новий гість. Менеджер просить гостя з номера 1 переїхати в номер 2, гостя з номера 2 в номер 3, і так далі. Тепер номер 1 вільний для нового гостя.

Більше того, якщо приїжджає нескінченна кількість нових гостей, менеджер може попросити всіх поточних гостей переїхати в номери з подвоєними числами (1→2, 2→4, 3→6), звільнивши всі непарні номери для нових гостей. Це демонструє дивовижні властивості нескінченності.',
        'order' => 5
    ],
    [
        'title' => 'Парадокс Рассела',
        'description' => 'Множина всіх множин, які не містять себе як елемент, призводить до логічного протиріччя.',
        'content' => 'Розглянемо множину R, яка містить всі множини, які не містять себе як елемент. Чи належить R сама собі?

Якщо R належить собі, то за визначенням вона не повинна належати собі. Якщо R не належить собі, то за визначенням вона повинна належати собі. Це логічне протиріччя.

Цей парадокс був відкритий Бертраном Расселом у 1901 році і призвів до кризи в основах математики. Він показав проблеми в наївній теорії множин і стимулював розробку аксіоматичної теорії множин.',
        'order' => 6
    ],
    [
        'title' => 'Парадокс Симпсона',
        'description' => 'Тренд, який з\'являється в кількох групах даних, може зникнути або змінитися при об\'єднанні груп.',
        'content' => 'Парадокс Симпсона виникає в статистиці, коли тренд присутній в декількох окремих групах даних, але зникає або змінюється на протилежний при об\'єднанні цих груп.

Наприклад, лікування А може бути ефективнішим за лікування Б як для чоловіків, так і для жінок окремо, але коли дані об\'єднуються, лікування Б виглядає кращим загалом. Це відбувається через приховані змінні або різні розміри груп.

Парадокс показує важливість коректного аналізу даних і врахування всіх релевантних факторів у статистичних дослідженнях.',
        'order' => 7
    ],
    [
        'title' => 'Парадокс стріли',
        'description' => 'Якщо час складається з моментів, то стріла в польоті завжди нерухома.',
        'content' => 'Ще один парадокс Зенона про рух. В будь-який конкретний момент часу стріла в польоті займає певне положення в просторі. В цей момент вона не рухається (не змінює положення). Якщо час складається з таких моментів, і в кожен момент стріла нерухома, то як може відбуватися рух?

Парадокс демонструє проблеми в розумінні руху, часу та нескінченно малих величин. Розв\'язання прийшло з розробкою математичного аналізу та концепції миттєвої швидкості, яка визначається як граничне значення.',
        'order' => 8
    ],
    [
        'title' => 'Парадокс цікавих чисел',
        'description' => 'Найменше нецікаве число стає цікавим через цю властивість.',
        'content' => 'Припустимо, що існують "нецікаві" числа. Тоді має існувати найменше нецікаве число. Але властивість бути "найменшим нецікавим числом" робить це число цікавим! Це означає, що воно не може бути нецікавим, що призводить до протиріччя.

Цей парадокс показує проблеми з нечіткими визначеннями в математиці. Термін "цікаве" є суб\'єктивним і не має точного математичного визначення. Парадокс демонструє важливість чітких і точних визначень у математичному мисленні.',
        'order' => 9
    ],
    [
        'title' => 'Парадокс лжеця',
        'description' => 'Твердження "Це твердження хибне" не може бути ні істинним, ні хибним.',
        'content' => 'Розглянемо речення: "Це твердження хибне". Якщо воно істинне, то згідно з тим, що воно стверджує, воно має бути хибним. Якщо воно хибне, то те, що воно стверджує, неправдиве, отже воно має бути істинним.

Це один з найдавніших відомих логічних парадоксів, що датується античністю. Він демонструє проблеми самопосилання в логіці і стимулював розвиток формальної логіки та теорії типів. Схожий парадокс виникає з твердженням критянина Епіменіда: "Всі критяни брехуни".',
        'order' => 10
    ],
    [
        'title' => 'Парадокс Греллінга-Нельсона',
        'description' => 'Чи є слово "гетерологічне" гетерологічним?',
        'content' => 'Визначимо "автологічне" слово як таке, що описує само себе (наприклад, "коротке" - коротке слово, "п\'ятискладове" має п\'ять складів). "Гетерологічне" слово не описує себе (наприклад, "довге" не є довгим словом).

Тепер запитаємо: чи є слово "гетерологічне" гетерологічним? Якщо так, то воно описує себе, отже має бути автологічним. Якщо ні, то воно не описує себе, отже має бути гетерологічним.

Це варіант парадоксу Рассела, сформульований у термінах семантики замість теорії множин.',
        'order' => 11
    ],
    [
        'title' => 'Парадокс Скулема',
        'description' => 'Теорія множин має зліченні моделі, хоча в ній можна довести існування незліченних множин.',
        'content' => 'Теорема Левенгейма-Скулема стверджує, що якщо теорія першого порядку має нескінченну модель, то вона має зліченну модель. Застосовуючи це до теорії множин, ми отримуємо, що існує зліченна модель теорії множин.

Але в теорії множин ми можемо довести теорему Кантора, яка стверджує, що множина дійсних чисел незліченна. Як може незліченна множина існувати в зліченній моделі?

Розв\'язання полягає в тому, що "зліченність" залежить від точки зору. Зсередини моделі множина дійсних чисел незліченна, але ззовні вся модель зліченна.',
        'order' => 12
    ],
    [
        'title' => 'Парадокс Бесселя',
        'description' => 'Скінченна сума скінченних величин може дорівнювати нескінченності.',
        'content' => 'Розглянемо функції Бесселя, які є розв\'язками диференціального рівняння Бесселя. При певних умовах скінченна сума скінченних величин, пов\'язаних з функціями Бесселя, може прямувати до нескінченності.

Хоча це може здаватися парадоксальним, це демонструє тонкощі граничних процесів у математичному аналізі. Сума може необмежено зростати навіть при скінченній кількості доданків, якщо самі доданки ростуть достатньо швидко.

Цей приклад показує важливість ретельного аналізу збіжності рядів і граничних переходів у математиці.',
        'order' => 13
    ]
];

$bulk = new MongoDB\Driver\BulkWrite;
foreach ($paradoxes as $paradox) {
    $bulk->insert([
        'title' => $paradox['title'],
        'description' => $paradox['description'],
        'content' => $paradox['content'],
        'order' => $paradox['order'],
        'created_at' => new MongoDB\BSON\UTCDateTime()
    ]);
}

try {
    $result = $db->executeBulkWrite('paradoxes', $bulk);
    echo "Successfully created " . $result->getInsertedCount() . " paradoxes\n";
} catch (Exception $e) {
    echo "Error creating paradoxes: " . $e->getMessage() . "\n";
}

echo "\nDatabase seeding completed!\n";
echo "You can now login at http://localhost:8080/admin with username='admin' and password='admin123'\n";
